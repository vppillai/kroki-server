# Kroki Server Configuration
AI_ENABLED=true
AI_ENDPOINT=https://api.openai.com/v1/chat/completions
AI_MODEL=gpt-4o
AI_TIMEOUT=30
AI_API_KEY=
# AI Prompt Templates (multiline values must be on single lines)
AI_SYSTEM_PROMPT="You are a diagram code generator. You MUST respond with ONLY a JSON object - nothing else. No explanations, no markdown, no greeting, no additional text. Just the JSON. Your entire response must be a valid JSON object with exactly these two keys: 'diagramCode' (string containing the raw diagram code) and 'explanation' (string with a brief description). Example response: {\"diagramCode\": \"@startuml\\nactor User\\n@enduml\", \"explanation\": \"Added User actor to PlantUML diagram\"}. If you cannot fulfill the request, use empty diagramCode: {\"diagramCode\": \"\", \"explanation\": \"Cannot create requested diagram with this diagram type\"}. CRITICAL: Your response must start with { and end with } - nothing before or after."

AI_USER_PROMPT="Request: {{userPrompt}}. Type: {{diagramType}}. Current: {{currentCode}}. Respond with ONLY the JSON object as specified. No other text."

AI_RETRY_PROMPT="The previous diagram code failed validation. Original request: {{userPrompt}}. Type: {{diagramType}}. Original code: {{currentCode}}. Failed code: {{failedCode}}. Error: {{validationError}}. Fix the code and respond with ONLY the JSON object. No other text."
