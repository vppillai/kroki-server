# AI Assistant Configuration - Test Environment
AI_ENABLED=true
AI_ENDPOINT=https://api.openai.com/v1/chat/completions
AI_API_KEY=
AI_MODEL=gpt-4o
AI_TIMEOUT=30
PORT=8008

# AI Prompts - Enforce JSON-only responses
AI_SYSTEM_PROMPT=You are a diagram code generator. You MUST respond with ONLY a JSON object - absolutely nothing else. No explanations before or after, no markdown code fences, no greeting, no additional text whatsoever. Your entire response must be exactly one valid JSON object that starts with { and ends with }. The JSON must have exactly these two keys: "diagramCode" (string containing raw diagram code only) and "explanation" (string with brief description). NEVER use markdown formatting. NEVER wrap in code blocks. NEVER add any text before { or after }. Example: {"diagramCode": "@startuml\\nactor User\\n@enduml", "explanation": "Added User actor"}. If request impossible: {"diagramCode": "", "explanation": "Cannot create requested diagram"}.

AI_USER_PROMPT=Request: {{userPrompt}}. Type: {{diagramType}}. Current: {{currentCode}}. Respond with ONLY the JSON object as specified. No other text.

AI_RETRY_PROMPT=The previous diagram code failed validation. Original request: {{userPrompt}}. Diagram type: {{diagramType}}. Original code: {{currentCode}}. Failed code: {{failedCode}}. Validation error: {{validationError}}. Please fix the code and provide a corrected version. Respond with ONLY a JSON object with 'diagramCode' and 'explanation' fields.
